import { getFirestore, doc, getDoc } from "firebase/firestore";
import { getAuth, onAuthStateChanged } from "firebase/auth";

const db = getFirestore();
const auth = getAuth();

onAuthStateChanged(auth, async (user) => {
  if (user) {
    const adminDoc = await getDoc(doc(db, "admins", user.uid));
    if (adminDoc.exists()) {
      // ইউজার অ্যাডমিন
      showAdminPanel();
    } else {
      alert("You are not authorized to access this page.");
      window.location.href = "/"; // Redirect normal user
    }
  } else {
    alert("Please log in first.");
    window.location.href = "/login.html";
  }
});

function showAdminPanel() {
  // এখানে তোমার এডমিন UI লোড করো
  document.getElementById("adminPanel").style.display = "block";
}
